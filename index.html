<!DOCTYPE html>
<html>
<body>

<h1>Meta</h1>


<script>

var testCase = { 
		x: 1, 
		y: 3, 
		name: "foo"
	};
var testCase2 = { 
		id: 0
	};


	var CommandCapture = function(){
		var commands = ["find", "findOne", "orderBy", "limit"];

		for (var i = 0; i < commands.length; i++) {
			this[commands[i]] = function(name){

				return function(){
					return {
						name: name,
						args: arguments
					};
				};
			}(commands[i]);
		}
	};

	var creator = new CommandCapture();
	var result = creator.find(testCase, testCase2);
	console.log(result);


</script>

</body>
</html> 